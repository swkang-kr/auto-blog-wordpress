{
  "permissions": {
    "allow": [
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npm run start 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsc --noEmit 2>&1)",
      "Bash(cd:*)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npm uninstall google-trends-api && npx tsc --noEmit 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx -e \"\nimport Anthropic from '@anthropic-ai/sdk';\nimport 'dotenv/config';\nconst client = new Anthropic\\({ apiKey: process.env.ANTHROPIC_API_KEY }\\);\nconst models = await client.models.list\\({ limit: 20 }\\);\nconsole.log\\(JSON.stringify\\(models.data.map\\(m => m.id\\), null, 2\\)\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx -e \"\nconst Anthropic = \\(await import\\('@anthropic-ai/sdk'\\)\\).default;\nawait import\\('dotenv/config'\\);\nconst client = new Anthropic\\({ apiKey: process.env.ANTHROPIC_API_KEY }\\);\ntry {\n  const models = await client.models.list\\({ limit: 50 }\\);\n  for \\(const m of models.data\\) {\n    console.log\\(m.id\\);\n  }\n} catch \\(e\\) {\n  console.error\\('Error:', e.message\\);\n  // Fallback: try a known model\n  try {\n    const r = await client.messages.create\\({\n      model: 'claude-3-5-sonnet-20241022',\n      max_tokens: 10,\n      messages: [{role:'user',content:'hi'}]\n    }\\);\n    console.log\\('claude-3-5-sonnet-20241022 works!'\\);\n  } catch\\(e2\\) {\n    console.error\\('claude-3-5-sonnet-20241022:', e2.message\\);\n  }\n  try {\n    const r = await client.messages.create\\({\n      model: 'claude-sonnet-4-5-20241022',\n      max_tokens: 10,\n      messages: [{role:'user',content:'hi'}]\n    }\\);\n    console.log\\('claude-sonnet-4-5-20241022 works!'\\);\n  } catch\\(e3\\) {\n    console.error\\('claude-sonnet-4-5-20241022:', e3.message\\);\n  }\n}\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nconst Anthropic = require\\('@anthropic-ai/sdk'\\).default || require\\('@anthropic-ai/sdk'\\);\nrequire\\('dotenv/config'\\);\nconst client = new Anthropic\\({ apiKey: process.env.ANTHROPIC_API_KEY }\\);\nclient.models.list\\({ limit: 50 }\\).then\\(r => {\n  r.data.forEach\\(m => console.log\\(m.id\\)\\);\n}\\).catch\\(e => {\n  console.error\\('List error:', e.status, e.message\\);\n}\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nrequire\\('dotenv/config'\\);\nconst keys = ['WP_URL','WP_USERNAME','WP_APP_PASSWORD','GEMINI_API_KEY','ANTHROPIC_API_KEY','TRENDS_COUNTRY','POST_COUNT'];\nkeys.forEach\\(k => {\n  const v = process.env[k] || '';\n  const masked = v.length > 8 ? v.slice\\(0,4\\) + '...' + v.slice\\(-4\\) : \\(v ? '\\(set\\)' : '\\(empty\\)'\\);\n  console.log\\(k + ': ' + masked\\);\n}\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nrequire\\('dotenv/config'\\);\nconst { GoogleGenerativeAI } = require\\('@google/generative-ai'\\);\nconst client = new GoogleGenerativeAI\\(process.env.GEMINI_API_KEY\\);\n\nasync function test\\(\\) {\n  try {\n    const model = client.getGenerativeModel\\({\n      model: 'gemini-2.0-flash-exp',\n      generationConfig: { responseModalities: ['image', 'text'] },\n    }\\);\n    const r = await model.generateContent\\('a simple blue circle on white background'\\);\n    const parts = r.response.candidates?.[0]?.content?.parts ?? [];\n    console.log\\('Parts count:', parts.length\\);\n    for \\(const p of parts\\) {\n      console.log\\('Part type:', Object.keys\\(p\\)\\);\n      if \\(p.inlineData\\) console.log\\('Image mime:', p.inlineData.mimeType, 'size:', p.inlineData.data?.length\\);\n      if \\(p.text\\) console.log\\('Text:', p.text.substring\\(0, 100\\)\\);\n    }\n  } catch \\(e\\) {\n    console.error\\('Error:', e.message\\);\n    console.error\\('Status:', e.status\\);\n    console.error\\('Details:', JSON.stringify\\(e.errorDetails ?? null\\)\\);\n  }\n}\ntest\\(\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nrequire\\('dotenv/config'\\);\nconst { GoogleGenerativeAI } = require\\('@google/generative-ai'\\);\nconst client = new GoogleGenerativeAI\\(process.env.GEMINI_API_KEY\\);\n\nasync function test\\(\\) {\n  try {\n    const model = client.getGenerativeModel\\({\n      model: 'gemini-2.0-flash-exp-image-generation',\n      generationConfig: { responseModalities: ['image', 'text'] },\n    }\\);\n    const r = await model.generateContent\\('a simple blue circle on white background'\\);\n    const parts = r.response.candidates?.[0]?.content?.parts ?? [];\n    console.log\\('Parts count:', parts.length\\);\n    for \\(const p of parts\\) {\n      if \\(p.inlineData\\) {\n        console.log\\('IMAGE found! mime:', p.inlineData.mimeType, 'data length:', p.inlineData.data?.length\\);\n      }\n      if \\(p.text\\) console.log\\('Text:', p.text.substring\\(0, 100\\)\\);\n    }\n    console.log\\('SUCCESS!'\\);\n  } catch \\(e\\) {\n    console.error\\('Error:', e.message\\);\n  }\n}\ntest\\(\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nrequire\\('dotenv/config'\\);\nconst { GoogleGenerativeAI } = require\\('@google/generative-ai'\\);\nconst client = new GoogleGenerativeAI\\(process.env.GEMINI_API_KEY\\);\n\nasync function test\\(\\) {\n  try {\n    const model = client.getGenerativeModel\\({\n      model: 'gemini-2.0-flash-exp-image-generation',\n      generationConfig: { responseModalities: ['image', 'text'] },\n    }\\);\n    const r = await model.generateContent\\('Generate a simple illustration of a mountain landscape with blue sky'\\);\n    console.log\\('Full response:', JSON.stringify\\(r.response, null, 2\\).substring\\(0, 2000\\)\\);\n  } catch \\(e\\) {\n    console.error\\('Error:', e.message\\);\n    console.error\\('Full:', JSON.stringify\\(e, null, 2\\)?.substring\\(0, 1000\\)\\);\n  }\n}\ntest\\(\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nrequire\\('dotenv/config'\\);\nconst https = require\\('https'\\);\nconst http = require\\('http'\\);\nconst url = process.env.WP_URL;\nconsole.log\\('Testing WP URL:', url\\);\nconst mod = url.startsWith\\('https'\\) ? https : http;\nmod.get\\(url + '/wp-json/wp/v2/posts?per_page=1', \\(res\\) => {\n  let data = '';\n  res.on\\('data', c => data += c\\);\n  res.on\\('end', \\(\\) => {\n    console.log\\('Status:', res.statusCode\\);\n    console.log\\('Response:', data.substring\\(0, 300\\)\\);\n  }\\);\n}\\).on\\('error', e => console.error\\('Connection error:', e.message\\)\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nrequire\\('dotenv/config'\\);\nconst axios = require\\('axios'\\);\nconst url = process.env.WP_URL;\nconst user = process.env.WP_USERNAME;\nconst pass = process.env.WP_APP_PASSWORD;\nconst token = Buffer.from\\(user + ':' + pass\\).toString\\('base64'\\);\n\naxios.get\\(url + '/wp-json/wp/v2/users/me', {\n  headers: { 'Authorization': 'Basic ' + token }\n}\\).then\\(r => {\n  console.log\\('Auth SUCCESS!'\\);\n  console.log\\('User:', r.data.name, '| Role:', r.data.roles?.join\\(', '\\)\\);\n}\\).catch\\(e => {\n  console.log\\('Auth FAILED:', e.response?.status, e.response?.statusText\\);\n  console.log\\('Response:', JSON.stringify\\(e.response?.data\\).substring\\(0, 300\\)\\);\n  console.log\\('Hint: WP Application Password에 공백이 포함되어 있으면 공백을 제거하세요.'\\);\n}\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && node -e \"\nrequire\\('dotenv/config'\\);\nconst axios = require\\('axios'\\);\nconst url = process.env.WP_URL;\nconst user = process.env.WP_USERNAME;\nconst pass = process.env.WP_APP_PASSWORD;\nconst token = Buffer.from\\(user + ':' + pass\\).toString\\('base64'\\);\nconst api = axios.create\\({\n  baseURL: url + '/wp-json/wp/v2',\n  headers: { 'Authorization': 'Basic ' + token },\n  timeout: 30000,\n}\\);\n\n// Test creating a draft post\napi.post\\('/posts', {\n  title: 'Test Post - 자동 블로그 테스트',\n  content: '<p>이것은 테스트 포스트입니다.</p>',\n  status: 'draft'\n}\\).then\\(r => {\n  console.log\\('Post created! ID:', r.data.id, 'Status:', r.data.status, 'Link:', r.data.link\\);\n  // Delete test post\n  return api.delete\\('/posts/' + r.data.id + '?force=true'\\).then\\(\\(\\) => console.log\\('Test post deleted.'\\)\\);\n}\\).catch\\(e => {\n  console.log\\('Post creation FAILED:', e.response?.status, e.response?.statusText\\);\n  console.log\\('Response:', JSON.stringify\\(e.response?.data\\).substring\\(0, 500\\)\\);\n}\\);\n\" 2>&1)",
      "WebSearch",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && POST_COUNT=1 npm run start 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && gh workflow list 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && git ls-tree -r master --name-only | grep -i workflow 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && POST_COUNT=0 npm run start 2>&1)",
      "Bash(gh run:*)",
      "Bash(where gh 2>&1 || which gh 2>&1)",
      "WebFetch(domain:api.github.com)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && git remote get-url origin 2>&1)",
      "Bash(head:*)",
      "Bash(curl -s \"https://api.github.com/repos/swkang-kr/auto-blog-wordpress/actions/runs?per_page=3\" 2>&1 | python3 -c \"\nimport json, sys\ndata = json.load\\(sys.stdin\\)\nfor r in data.get\\('workflow_runs', []\\):\n    print\\(f\\\\\"ID={r['id']} | {r['status']} | {r['conclusion'] or 'running'} | {r['created_at']} | {r['display_title']}\\\\\"\\)\" 2>&1)",
      "Bash(curl -s \"https://api.github.com/repos/swkang-kr/auto-blog-wordpress/actions/runs?per_page=3\" 2>&1 | node -e \"\nconst data=JSON.parse\\(require\\('fs'\\).readFileSync\\('/dev/stdin','utf8'\\)\\);\n\\(data.workflow_runs||[]\\).forEach\\(r=>{\n  console.log\\('ID='+r.id+' | '+r.status+' | '+\\(r.conclusion||'running'\\)+' | '+r.created_at+' | '+r.display_title\\);\n}\\)\" 2>&1)",
      "Bash(curl -s \"https://api.github.com/repos/swkang-kr/auto-blog-wordpress/actions/runs?per_page=3\" -o /tmp/gh_runs.json && node -e \"\nconst data=require\\('/tmp/gh_runs.json'\\);\n\\(data.workflow_runs||[]\\).forEach\\(r=>{\n  console.log\\('ID='+r.id+' | '+r.status+' | '+\\(r.conclusion||'running'\\)+' | '+r.created_at+' | '+r.display_title\\);\n}\\)\" 2>&1)",
      "Bash(curl:*)",
      "Bash(node:*)",
      "WebFetch(domain:github.com)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx src/test-single.ts 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx -e \"\nimport { loadConfig } from './src/config/env.js';\nimport { SeoService } from './src/services/seo.service.js';\n\nconst config = loadConfig\\(\\);\nconst seo = new SeoService\\(config.WP_URL, config.WP_USERNAME, config.WP_APP_PASSWORD\\);\nawait seo.ensureHeaderScripts\\({\n  googleCode: config.GOOGLE_SITE_VERIFICATION,\n  naverCode: config.NAVER_SITE_VERIFICATION,\n  gaMeasurementId: config.GA_MEASUREMENT_ID,\n}\\);\nconsole.log\\('Done'\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx -e \"\nimport { loadConfig } from './src/config/env.js';\nimport { SeoService } from './src/services/seo.service.js';\nimport { logger } from './src/utils/logger.js';\n\nconst config = loadConfig\\(\\);\nlogger.info\\('GA_MEASUREMENT_ID: ' + config.GA_MEASUREMENT_ID\\);\nconst seo = new SeoService\\(config.WP_URL, config.WP_USERNAME, config.WP_APP_PASSWORD\\);\nawait seo.ensureHeaderScripts\\({\n  googleCode: config.GOOGLE_SITE_VERIFICATION,\n  naverCode: config.NAVER_SITE_VERIFICATION,\n  gaMeasurementId: config.GA_MEASUREMENT_ID,\n}\\);\nlogger.info\\('GA4 setup completed'\\);\n\" 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx -e \"\nimport { loadConfig } from './src/config/env.js';\nimport { SeoService } from './src/services/seo.service.js';\n\nconst config = loadConfig\\(\\);\nconsole.log\\('GA ID:', config.GA_MEASUREMENT_ID || '\\(empty\\)'\\);\n\nconst seo = new SeoService\\(config.WP_URL, config.WP_USERNAME, config.WP_APP_PASSWORD\\);\ntry {\n  await seo.ensureHeaderScripts\\({\n    googleCode: config.GOOGLE_SITE_VERIFICATION,\n    naverCode: config.NAVER_SITE_VERIFICATION,\n    gaMeasurementId: config.GA_MEASUREMENT_ID,\n  }\\);\n  console.log\\('SUCCESS: GA4 header scripts configured'\\);\n} catch \\(e\\) {\n  console.error\\('ERROR:', e instanceof Error ? e.message : e\\);\n}\n\" 2>&1)",
      "WebFetch(domain:trendhunt.net)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx src/install-theme.ts 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npx tsx src/setup-theme.ts 2>&1)",
      "Bash(tail:*)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && npm install deepl-node 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && gh secret list 2>&1)",
      "Bash(cd /c/workspace/Claude/auto-blog-wordpress && gh workflow run daily-post.yml 2>&1)",
      "Skill(bkit:pdca)",
      "Bash(git:*)",
      "WebFetch(domain:content-whale.com)",
      "WebFetch(domain:yoast.com)",
      "Bash(npm install:*)"
    ]
  }
}
